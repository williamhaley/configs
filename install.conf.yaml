- defaults:
    link:
      relink: true
      create: true

- clean: ['~']

# Do not ever try to link directly to ~ as a shortcut. I have accidentally had dot files/directories (.local, .config) wiped out by dotbot.
- link:
    ~/.config/mimeapps.list:
      if: '[ `uname` = Linux ]'
      path: X/mimeapps.list
    # (deprecated) for backwards compatibility https://wiki.archlinux.org/title/XDG_MIME_Applications#mimeapps.list
    ~/.local/share/applications/mimeapps.list:
      if: '[ `uname` = Linux ]'
      path: X/mimeapps.list
    ~/.config/alacritty: alacritty
    ~/.gitconfig: git/gitconfig
    ~/.config/cmus/rc:
      if: '[ `uname` = Linux ]'
      force: true
      path: cmus/rc
    ~/.config/i3:
      if: '[ `uname` = Linux ]'
      force: true
      path: i3
    ~/.ssh/config: ssh/config
    ~/.tmux.conf: tmux/tmux.conf
    ~/.vimrc: vim/vimrc
    ~/.xbindkeysrc:
      if: '[ `uname` = Linux ]'
      path: X/.xbindkeysrc
    ~/.Xmodmap:
      if: '[ `uname` = Linux ]'
      path: X/.Xmodmap
    ~/.xprofile:
      if: '[ `uname` = Linux ]'
      path: X/.xprofile
    ~/.Xresources:
      if: '[ `uname` = Linux ]'
      path: X/.Xresources
    ~/.zshenv: zsh/zshenv
    ~/.zshrc: zsh/zshrc

- create:
    ~/.ssh:
      mode: 0700

- create:
    - ~/bin
    - ~/src
    - ~/Downloads

- shell:
  - [git submodule update --init --recursive, Installing submodules]
